# 워터멜론뮤직

<<<<<<< HEAD
=======
- 많이 더우시죠? 더운것을 확 날려버릴 기회는 지금 뿐 입니다!!! 당신을 시원하게 만들어줄 아주 시원하고 또 시원한 노래로 가득한 이곳에서 여러분의 더위를 한번 떨쳐내보세요!! 항해99 3기여러분 화이팅!!!-워터멜론음원사이트-



  ## 1. 제작기간 & 팀원소개
  - 2021년 9월 13일 ~ 2021 9월 17일
  - 25조 팀프로젝트
     - 노강표
     - 오준석
     - 윤진선
     - 이민국

  ## 2. 사용기술

    ### back-end
     - Python
     - Flask
     - MongDB

    ### front-end
     - javascript
     - jQuery
     - Bulma

    ### deploy
     - AWS EC2

  ## 3.실행영상링크
     - https://www.youtube.com/watch?v=AuBiqHb4TZI&t=25s


  ## 4. 핵심기능

     - 로그인,회원가입
      : 조건에 맞게 생성하지않는 아이디,비밀번호확인
      : 아이디 중복확인
      : 비밀번호 일치확인
      : 로그아웃

     - 메인페이지에서 원하는 노래 클릭시 상세페이지 이동

     - 좋아요기능
      : 원하는 노래 좋아요 및 취소

     - 댓글 생성, 삭제기능
      : 원하는 노래 댓글 작성 및 삭제

     - 멜론 음원사이트 크롤링
      : 노래,제목,곡명 크롤링

     - 리뷰작성란 토글기능
      : 버튼기능을 이용하여 리뷰박스 토글


   ## 5. 프로젝트간 해결한 과제
   ### 1) 메인페이지에서 원하는 노래 클릭시 해당 상페이지로 이동

      해결과제

        - 노래당 각 상세페이지를 노래갯수만큼 제작해야하는가.

        수정

        - 멜론 사이트에서 필요한 정보를 크롤링하여 db에 저장.
        - 클릭한 노래의 제목을 이용하여 url변수에 할당하여 상세페이지 서버url에 전달.
        - 이미지,곡명,가수,앨범명,동영상url 등의 정보를 jinja template언어로 for문을 사용해서 상세페이지로 전달.

    ### 2)  각 노래별 리뷰페이지

      해결과제

        - 리뷰를 작성시 모든노래페이지에서 리뷰가 공유됨

       해결과정

        - 댓글작성시  노래의 제목을 전달하여 리뷰의 내용을db에 저장할떄 제목정보를 추가로 저장.

   ### 3) 삭제 

      해결과제 

       - 내가 작성하지 않은내용도 삭제를 할수 있음

       해결과정

      - 리뷰를 db에저장할떄 현재 로그인된 아이디를 함께저장하여 이후 페이지내에서 리뷰를 보여줄떄 if else를 사용하여 작성했을때의 사용자와 현재사용자를 비교하여  삭제아이콘       을 보여줌

   ### 4) 좋아요

      해결과제

      - 좋아요를 무한으로 누를 수 있음

      해결과정

      - 사용자 계정별 좋아요리스트를 추가로 db에생성하여 좋아요를 누른 노래제목을 리스트에 추가후 이후 페이지를 보여줄떄 사용자의 리스트와 현재 보여지는 노래페이지의 제목을 비교하여  사용자의 리스트에 존재하면 좋아요가 눌린 상태를 보여줌.

   ### 5) 벌마

      해결과제

      -  벌마에서 제공하는 css의 규격이 팀이 원하는 것과 맞지 않음
      -  벌마 class의 css를 수정하고 싶은데 코드가 보이지 않음

      해결과정

      - 브라우저 elements의 styles를 이용해서 class를 넣고 빼보며 어떤 class가 팀이 원하는 구성을 방해하는지 확인
      - 문제가 되는 class를 없애고 직접 class를 만들어 수정

   ### 6) 리뷰 작성란을 보이게 하는 버튼해결과제

      해결과제

      - Down화살표로 되어있는 버튼을 누르면 UP화살표로 바뀌고, 버튼을 다시 누르면 Down화살표로 바뀌게 만들어야 함
      - 버튼이 눌렸을 때 icon을 바꿔달라는 의미에서 active를 쓰면 마우스로 버튼을 누른 상태에서만 화살표 icon이 바뀌고 마우스를 떼는 순간 원상태로 돌아옴

      해결과정

      - font awsome에서 가져온 Down icon의 class가 '~~ -down', Up icon의 class가 '~~ -up'이라는 것을 이용하여 Toggle 사용
      - icon에 id를 할당한 뒤, 해당 id의 class '~~ -down'일 때는 'up'으로 바꿔주고, 'up'일 때는 'down'으로 바꿔주도록 함수 설정

   ### 7) 크롤링과정

      해결과제
      - 멜론의 월별차트 url이 월별 이동을 해도 항상 똑같아서 크롤링이 되지 않음
      해결과정

      - 이에대한 상세주소를 알기위해서 해당 페이지 콘솔창에서 NetWork의 XHR부분에 들어가 상세url를 볼 수 있기에 멜론에서 쉽게 크롤링이 가능해짐

  ### 8) 리뷰 작성란을 보이게 하는 기능

      해결 과제

      - Down화살표로 되어있는 버튼을 누르면 리뷰박스가 보이고, 버튼을 다시 누르면 리뷰박스가 안보이게 만들어야 함해결과정

      해결 과정

      - 로그인 페이지 만들때 사용했던 toggleClass를 이용해 is-hidden을 없애고 생성하는 방법으로 해결함.

 
  ### 9) 리뷰 작성시 한글 외 다른언어 작성시 줄바꿈이 안돼서 텍스트공간 너비를 넘어가는 현상

     해결 과정
    
      - 리뷰작성란을 감싸고있는 commentList 클래스에 word-break:break-all; 속성추가.
        
>>>>>>> a2212d729683b6690e3c852c1d192be1e0cc9ed4
